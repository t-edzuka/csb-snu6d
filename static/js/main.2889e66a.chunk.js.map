{"version":3,"sources":["entry.js","webpack:///./src/index.js?b635"],"names":["initCy","d","data","cy","window","cytoscape","container","document","getElementById","elements","style","selector","label","element","height","width","css","color","layout","defaults","name","fit","animate","animationDuration","randomize","rankDir","springLength","edge","api","expandCollapse","layoutBy","fisheye","undoable","collapseAll","expand","navigator","on","this","open","e","location","href","use","dagre","cola","rootElement","ReactDOM","render","id","Promise","all","then","results","map","r"],"mappings":"+txNAqBA,SAASA,EAAOC,GACd,IAAIC,EAAOD,EAAE,GAGTE,EAAMC,OAAOD,GAAKE,IAAU,CAC9BC,UAAWC,SAASC,eAAe,MACnCC,SAAUP,EAAI,SAEdQ,MAAO,CACL,CACEC,SAAU,OACVD,MAAO,CACL,mBAAoB,QAEpBE,MAAO,SAAUC,GACf,OAAIA,EAAQX,KAAK,QACT,GAAN,OAAUW,EAAQX,KAAK,+BAQ3B,YAAa,GACb,cAAe,SACf,cAAe,SACf,qBAAsB,QACtB,qBAAsB,MACtB,YAAa,OACb,iBAAkB,GAClB,eAAgB,EAIhBY,OAAQ,SAAUD,GAChB,OAAO,GAAK,GAAKA,EAAQX,KAAK,mBAEhCa,MAAO,SAAUF,GACf,OAAO,GAAK,GAAKA,EAAQX,KAAK,qBAIpC,CACES,SAAU,OACVD,MAAO,CACLK,MAAO,EACP,aAAc,OACd,qBAAsB,OACtB,qBAAsB,WACtB,cAAe,WAGnB,CACEJ,SAAU,UACVK,IAAK,CACH,cAAe,MACf,cAAe,SACf,aAAc,SACd,YAAa,GACb,YAAa,OACbC,MAAO,UAIbC,OAAQ,KAKNC,EAAW,CACbC,KAAM,QACNC,KAAK,EACLC,SAAS,EACTC,kBAAmB,IACnBC,WAAW,EACXC,QAAS,KACTC,aAAc,SAACC,GAAD,OAAU,IAItBC,EAAMzB,EAAG0B,eAAe,CAC1BC,SAAUX,EACVY,SAAS,EAETC,UAAU,IAEZJ,EAAIK,cAEJL,EAAIM,SACJN,EAAIM,SACJ/B,EAAGgC,UAAUhB,GAEbhB,EAAGiC,GAAG,MAAO,QAAQ,WACnB,GAA+B,MAA3BC,KAAKnC,KAAK,oBAEZ,IAEEE,OAAOkC,KACL,kCAAoCD,KAAKnC,KAAK,eAEhD,MAAOqC,GAEPnC,OAAOoC,SAASC,KACd,kCAAoCJ,KAAKnC,KAAK,kBAlHxDG,IAAUqC,IAAIC,KACdtC,IAAUqC,IAAIE,KAEdvC,IAAUqC,IAAIb,KACdxB,IAAUqC,IAAIP,KAoHP,I,QC9HDU,EAActC,SAASC,eAAe,QAC5CsC,IAASC,OACP,cAAC,aAAD,UACE,qBAAKC,GAAG,SAEVH,GD0HAI,QAAQC,IAAI,CAAChD,IACViD,MAAK,SAACC,GAAD,OACJH,QAAQC,IACNE,EAAQC,KAAI,SAACC,GACX,OAAOA,SAKZH,KAAKnD,K","file":"static/js/main.2889e66a.chunk.js","sourcesContent":["import \"./styles.css\";\nimport cytoscape from \"cytoscape\";\nimport cola from \"cytoscape-cola\";\nimport dagre from \"cytoscape-dagre\";\n// import euler from \"cytoscape-euler\";\nimport expandCollapse from \"cytoscape-expand-collapse\";\n\nimport navigator from \"cytoscape-navigator\";\nimport \"cytoscape-navigator/cytoscape.js-navigator.css\";\nimport data from \"./all.json\";\n\ncytoscape.use(dagre);\ncytoscape.use(cola);\n//cytoscape.use(euler);\ncytoscape.use(expandCollapse);\ncytoscape.use(navigator);\n\n// var data = fetch(\"./src/all.json\");\n//var style = fetch(\"./src/cy-style.json\");\n//Promise.all([data, style])\n\nfunction initCy(d) {\n  var data = d[0];\n  //var jstyle = then[1][0];\n\n  var cy = (window.cy = cytoscape({\n    container: document.getElementById(\"cy\"),\n    elements: data[\"elements\"],\n    //style : jstyle\n    style: [\n      {\n        selector: \"node\",\n        style: {\n          \"background-color\": \"white\",\n          //  label: \"data(ncbi_species_name_w_space)\",\n          label: function (element) {\n            if (element.data(\"rank\") === \"specie\") {\n              return `${element.data(\"ncbi_species_name_w_space\")}`;\n            } else {\n              return `${element.data(\"ncbi_species_name_w_space\")}`;\n              // return `${element.data(\n              //   \"ncbi_species_name_w_space\"\n              // )} (${element.data(\"Outdegree\")})`;\n            }\n          },\n          \"font-size\": 20,\n          \"text-valign\": \"center\",\n          \"text-halign\": \"center\",\n          \"text-outline-color\": \"white\",\n          \"text-outline-width\": \"2px\",\n          \"text-wrap\": \"wrap\",\n          \"text-max-width\": 20,\n          \"border-width\": 3,\n\n          //height: 80,\n          //width: 80,\n          height: function (element) {\n            return 50 + 10 * element.data(\"assembly_count\");\n          },\n          width: function (element) {\n            return 50 + 10 * element.data(\"assembly_count\");\n          }\n        }\n      },\n      {\n        selector: \"edge\",\n        style: {\n          width: 8,\n          \"line-color\": \"#ccc\",\n          \"target-arrow-color\": \"#ccc\",\n          \"target-arrow-shape\": \"triangle\",\n          \"curve-style\": \"bezier\"\n        }\n      },\n      {\n        selector: \":parent\",\n        css: {\n          \"text-valign\": \"top\",\n          \"text-halign\": \"center\",\n          \"font-style\": \"normal\",\n          \"font-size\": 20,\n          \"text-wrap\": \"none\",\n          color: \"gray\"\n        }\n      }\n    ],\n    layout: {\n      //name: \"preset\"\n    }\n  }));\n\n  let defaults = {\n    name: \"dagre\",\n    fit: false,\n    animate: true,\n    animationDuration: 500,\n    randomize: false,\n    rankDir: \"BT\",\n    springLength: (edge) => 5\n  };\n  // cy.layout(defaults).run();\n\n  var api = cy.expandCollapse({\n    layoutBy: defaults,\n    fisheye: false,\n    //animate: true,\n    undoable: false\n  });\n  api.collapseAll();\n  //var nav = cy.navigator(defaults);\n  api.expand();\n  api.expand();\n  cy.navigator(defaults);\n\n  cy.on(\"tap\", \"node\", function () {\n    if (this.data(\"species_id\") == null) {\n    } else {\n      try {\n        // your browser may block popups\n        window.open(\n          \"https://plantgarden.jp/ja/list/\" + this.data(\"species_id\")\n        );\n      } catch (e) {\n        // fall back on url change\n        window.location.href =\n          \"https://plantgarden.jp/ja/list/\" + this.data(\"species_id\");\n      }\n    }\n  });\n}\n\nexport const main = () => {\n  Promise.all([data])\n    .then((results) =>\n      Promise.all(\n        results.map((r) => {\n          return r;\n        })\n      )\n    )\n    //.then((results) => console.log(results))\n    .then(initCy);\n};\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { main } from \"./entry\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <div id=\"cy\"></div>\n  </StrictMode>,\n  rootElement\n);\n\nmain(); // cytoscape componentを div id = 'cy'にレンダリングする\n"],"sourceRoot":""}